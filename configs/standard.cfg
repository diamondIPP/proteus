#####################################################################
#                                                                   #
#  Configue analyzers below, used in loopers which generate results #
#                                                                   #
#####################################################################

# Cuts can be added to any analyzer, though some might not affect it.
# Their usage is illustrated below:
#
# cut [object] [variable] [type] : [value]
#
# value  : value of the cut
# type   : equal, max, min
# object : event, track, cluster, hit
# 
# Variables of each object:
# event   [hits, clusters, tracks, trigoffset]
# track   [clusters, chi2, originx, originy]
# cluster [hits, value, timing, posx, posy, matchdist]
# hit     [value, timing, posx, posy]
#
# Example: adding the following cuts to the efficiency will use tracks with
# 6 clusters and a maximal chi2 of 5:
#   cut track clusters equal: 6
#   cut track chi2 max: 5
#
# NOTE: cuts are applied by the analyzers. All tracks, clusters and hits used
# during analysis are first checked by the cuts. The event being analyzed
# must first pass the event cut. Some analyzers use both a reference and a
# DUT event. In this case, ONLY THE REFERENCE event is checked. Cuts are
# ONLY EVER APPLIED DURING BY AN ANALYZER, so they only impact analysis
# results.
#
# Some cuts are pre-defined by a looper and passed to an analyzer. For
# example, the fine aling looper uses only events with 1 full track
# when using the residual analyzer.

[Depictor]
  active: false
  depict event: true
  depict clusters: true
  depict tracks: true
  zoom: 30
[End Depictor]

[Hit Info]
  active       : true
  level 1 bins : 16  # This many bins of lvl1 (0 < lvl1 < this)
  tot bins     : 14  # This many bins of ToT (0 < ToT < this)
[End Hit Info]

[Cluster Info]
  active   : true
  tot bins : 30
  max size : 5  # Plot range for cluster size
[End Cluster Info]

[Track Info]
  active         : true
  max resolution : 1    # Range of resolution plot in number of pixels
  max slope      : 25   # Range of slope plot in number of pixels / device length
  increase area  : 1.2  # 2D intercept plot scale to sensor dimensions
[End Track Info]

[Event Info]
  active     : true
  max tracks : 12
[End Event Info]

[Efficiency]
  active      : true
  suffix      : C
  relative to : -1  # Consider only events with a match in this DUT plane
  pix x min   : 1   # minimum pixel (x) to be considered for in-pixel results
  pix x max   : 12  # maximum pixel (x) to be considered for in-pixel results
  pix y min   : 81  # minimum pixel (y) to be considered for in-pixel results
  pix y max   : 94  # maximum pixel (y) to be considered for in-pixel results
  pix group x : 1   # Group this many pixels to make a pixel group
  pix group y : 1
  pix bins x  : 20 
  pix bins y  : 10
  min entries lvl1 : 50
  min entries lvl1 matchedTracks : 0	
  #bilbao@cern.ch: Expressend in pixels units before, now expressed in um!
  #fdibello@cern.ch In cut.h i changed the definition of this variable from int to float.
  cut cluster matchdist max: 1.4
  cut track clusters equal: 6
  #cut track chi2 max: 5
  cut track chi2 max: 2  // 2
[End Efficiency]

[Residuals]
  active         : true
  num pixels     : 5   # Plot width in number of pixels
  bins per pixel : 10  # Plot bins per pixels (can be < 1)
  num bins y     : 30  # Number of vertical bins in 2D residuals
[End Residuals]

[Occupancy]
  active: true
[End Occupancy]

[DUT Correlation]
  active: true
[End DUT Correlation]

[Correlation]
  active: true
[End Correlation]

